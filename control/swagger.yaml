basePath: /
consumes:
    - application/json
definitions:
    MoreStock:
        type: object
        description: MoreStock contains important financial metrics
        properties:
            Ticker:
                type: string
                example: MSFT
            Name:             
                type: string
                example: Microsoft Corporation
            Exchange:         
                type: string
                example: NASDAQ
            Sector:           
                type: string
                example: TECHNOLOGY
            MarketCap:
                type: float
                example: 1823603294000
            PERatio:          
                type: float
                example: 25.34
            PEGRatio:         
                type: float
                example: 1.817
            DivPerShare:
                type: float
                example: 2.48      
            EPS:
                type: float
                example: 9.65              
            RevPerShare:      
                type: float
                example: 29.65              
            ProfitMargin:     
                type: float
                example: 0.657              
            YearHigh:
                type: float
                example: 341.7              
            YearLow:
                type: float
                example: 239.4              
            SharesOutstanding:
                type: float
                example: 7457890000              
            PriceToBookRatio:
                type: float
                example: 10.96              
            Beta:             
                type: float
                example: 0.943              
        x-go-package: github.com/fercevik729/STLKER/control/handlers
    Portfolio:
        type: object
        description: A Portfolio defines the structure for a minimalist porfolio
        required: 
            - Name
            - Username
            - Securities
        properties:
            Name:
                type: string
                example: "RetirementFund"
            Username:
                type: string
                example: "MoneyLover123"
            Securities:
                type: array
                items:
                    '#/definitions/Security'
                example:
                    - Ticker: "TSLA"
                      BoughtPrice: 10.92
                      CurrPrice: 308.73
                      Shares: 1
                      Gain: 297.81
                      Change: "2827%"
                      Currency: "USD"
                    - Ticker: "AAPL"
                      BoughtPrice: 10.92
                      CurrPrice: 308.73
                      Shares: 2
                      Gain: 595.62
                      Change: "2827%"
                      Currency: "USD"

        x-go-package: github.com/fercevik729/STLKER/control/handlers
    Profits:
        type: object
        description: Profits contains the profit breakdown for a given portfolio
        properties:
            Name: 
                type: string
                example: "401(k)" 
            OriginalValue:
                type: float
                example: 218.4
            NewValue:
                type: float
                example: 37047.6
            NetGain:
                type: float
                example: 35651.43
            NetChange:
                type: string
                example: "1221%"
            Moves:
                type: array
                items:
                    '#/definitions/Security'
                example:
                    - Ticker: "VOO"
                      BoughtPrice: 10.92
                      CurrPrice: 308.73
                      Shares: 100
                      Gain: 29700.81
                      Change: "2827%"
                      Currency: "USD"
                    - Ticker: "AAPL"
                      BoughtPrice: 10.92
                      CurrPrice: 308.73
                      Shares: 20
                      Gain: 5950.62
                      Change: "2827%"
                      Currency: "USD"
             
                

        x-go-package: github.com/fercevik729/STLKER/control/handlers
    Security:
        type: object
        description: Security represents a single security and all of its financial details
        properties:
            Ticker:
                type: string
                example: "TSLA"
            BoughtPrice: 
                type: float
                example: 10.92 
            CurrPrice: 
                type: string
                example: 308.73
            Shares:
                type: float
                example: 1 
            Gain: 
                type: float
                example: 297.81
            Change: 
                type: string
                example: "2827%"
            Currency: 
                type: string
                example: "USD"

        x-go-package: github.com/fercevik729/STLKER/control/handlers
    ReqSecurity:
        type: object
        description: ReqSecurity defines the schema for a Security in a request payload
        properties:
            Ticker:
                type: string
                example: "F"
                required: true
            Shares:
                type: float
                example: 5.75
                required: true

    Stock:
        type: object
        description: Stock is the struct equivalent to the body returned by the gRPC API
        properties:
            
        x-go-package: github.com/fercevik729/STLKER/control/handlers
info:
    description: Documentation for STLKER API
    title: of STLKER API
    version: 1.0.0
paths:
    /portfolios:
        get:
            description: Outputs all of the portfolios for a user
            operationId: getPortfolios
            responses:
                "200":
                    $ref: '#/responses/profitsResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - portfolios
        post:
            description: Creates a new portfolio for a user
            operationId: createPortfolio
            parameters:
            - description: A portfolio
              in: body
              name: Body
              required: true
              schema:
                $ref: '#/definitions/Portfolio'
            responses:
                "200":
                    $ref: '#/responses/messageResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - portfolios
        put:
            description: Updates a given portfolio
            operationId: updatePortfolio
            parameters:
            - description: A portfolio
              in: body
              name: Body
              required: true
              schema:
                $ref: '#/definitions/Portfolio'
            responses:
                "200":
                    $ref: '#/responses/messageResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - portfolios
    /portfolios/{name}:
        delete:
            description: Deletes a given portfolio for a user
            operationId: deletePortfolio
            parameters:
                - description: Name of the portfolio
                  in: path
                  name: name
                  required: true
                  type: string
                  x-go-name: Name
            responses:
                "200":
                    $ref: '#/responses/messageResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - portfolios
        get:
            description: Outputs a particular portfolio for a user
            operationId: getPortfolio
            parameters:
                - description: Name of the portfolio
                  in: path
                  name: Name
                  required: true
                  type: string
                  x-go-name: Name
            responses:
                "200":
                    $ref: '#/responses/profitResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - portfolios
        post:
            description: Creates a new security
            operationId: createSecurity
            parameters:
                - description: Name of the portfolio
                  in: path
                  name: Name
                  required: true
                  type: string
                  example: "CollegeFund"
                  x-go-name: Name
                - description: The new security
                  in: body
                  required: true
                  name: Body
                  schema:
                    $ref: '#/definitions/ReqSecurity'
            responses:
                "200":
                    $ref: '#/responses/messageResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - securities
        put:
            description: Updates a security's information for a given portfolio
            operationId: updateSecurity
            parameters:
                - description: Name of the portfolio
                  in: path
                  name: name
                  required: true
                  type: string
                  x-go-name: Name
                - description: The updated security
                  in: body
                  required: true
                  name: Body
                  schema:
                    $ref: '#/definitions/ReqSecurity'
            responses:
                "200":
                    $ref: '#/responses/messageResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - securities
    /portfolios/{name}/{ticker}:
        delete:
            description: Deletes a security from a given portfolio
            operationId: deleteSecurity
            parameters:
                - description: Name of the portfolio
                  in: path
                  name: name
                  required: true
                  type: string
                  x-go-name: Name
                - description: Ticker of the security
                  in: path
                  name: ticker
                  required: true
                  type: string
                  x-go-name: Ticker
            responses:
                "200":
                    $ref: '#/responses/messageResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - securities
        get:
            description: Outputs a security's details to the client
            operationId: readSecurity
            parameters:
                - description: Name of the portfolio
                  in: path
                  name: name
                  required: true
                  type: string
                  x-go-name: Name
                - description: Ticker of the security
                  in: path
                  name: ticker
                  required: true
                  type: string
                  x-go-name: Ticker
            responses:
                "200":
                    $ref: '#/responses/securityResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - securities
    /stocks/{ticker}/{currency}:
        get:
            description: Outputs a stock's financial details to the client in the requested currency
            operationId: getInfo
            parameters:
                - description: Ticker of the security
                  in: path
                  name: ticker
                  required: true
                  type: string
                  x-go-name: Ticker
                - description: Destination currency for the security's unit prices
                  in: path
                  name: currency
                  required: true
                  type: string
                  x-go-name: Currency
            responses:
                "200":
                    $ref: '#/responses/stockResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - stocks
    /stocks/more/{ticker}:
        get:
            description: Outputs more sophisticated stock informations
            operationId: moreInfo
            parameters:
                - description: Ticker of the security
                  in: path
                  name: ticker
                  required: true
                  type: string
                  x-go-name: Ticker
            responses:
                "200":
                    $ref: '#/responses/moreStockResponse'
                "400":
                    $ref: '#/responses/errorResponse'
                "500":
                    $ref: '#/responses/errorResponse'
            tags:
                - stocks
produces:
    - application/json
responses:
    errorResponse:
        description: An errorResponse is an empty data structure to represent an http error
    messageResponse:
        description: A messageResponse is diagnostic information returned to the client
    moreStockResponse:
        description: A moreStockResponse is more information about a single stock
        schema:
          $ref: '#/definitions/MoreStock'
    profitResponse:
        description: A profitResponse is a single portfolio returned to the client
        schema:
          $ref: '#/definitions/Profits'
    profitsResponse:
        description: A profits is a list of profits for each of the portfolios returned to the client
        schema:
          items:
            $ref: '#/definitions/Profits'
          type: array
    securityResponse:
        description: A securityResponse is a single security's information returned to the client
        schema:
          $ref: '#/definitions/Security'
    stockResponse:
        description: A stockResponse is information about a single stock returned to the client
        schema:
          $ref: '#/definitions/Stock'
schemes:
    - http
swagger: "2.0"
